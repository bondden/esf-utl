{"version":3,"sources":["index.es7.js"],"names":[],"mappings":"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","file":"index.es7.js","sourcesContent":["/**\n * Created by Denis Bondarenko <bond.den@gmail.com> on 25.05.2015.\n */\n\n'use strict';\nvar\n  clc =require('cli-color'),\n  fs  =require('fs'),\n  path=require('path'),\n  os  =require('os')\n;\n\nexport class Utl {\n\n  static styles={\n    'ne': clc.white,\n    'er': clc.red,\n    'ok': clc.green,\n    'em': clc.yellow,\n    'erb':clc.redBright,\n    'sh': clc.whiteBright,\n\n    'b':  clc.blue,\n    'bb': clc.blueBright,\n    'y':  clc.yellow,\n    'yb': clc.yellowBright,\n    'g':  clc.green,\n    'gb': clc.greenBright,\n    'c':  clc.cyan,\n    'cb': clc.cyanBright,\n    'm':  clc.magenta,\n    'mb': clc.magentaBright,\n    'r':  clc.red,\n    'rb': clc.redBright,\n    'w':  clc.white,\n    'wb': clc.whiteBright\n  };\n\n  /**\n   * FFS = for file system\n   * @return string: current Date-Time formatted like 0000-00-00_00-00-00\n   */\n  static getCurrentDateFmtFFS=function(){\n    //add zero\n    function aZ(v){\n      return (v<10)?`0${v}`:v;\n    }\n\n    let d=new Date();\n    return d.getFullYear()+'-'+aZ(d.getMonth()+1)+'-'+aZ(d.getDate())+'_'+aZ(d.getHours())+'-'+aZ(d.getMinutes())+'-'+aZ(d.getSeconds());\n  };\n\n  static stripSlash=function(pathName){\n    return pathName.replace(/\\/+$/,'');\n  };\n\n\t/**\n\t * Transforms a path string to absolute relatively __dirname or dirname + additional `rel` path\n\t * @param {String} p - a path string to be transformed\n\t * @param {String} [rel] - additional relative path between the __dirname of context and `p`\n\t * @returns {String} - absolute path\n   */\n  static absolutizePath=function(p,rel=''){\n    if(!path.isAbsolute(p)){\n      p=path.resolve(__dirname+rel+p).replace(/\\\\/ig,'/');\n    }\n    return p;\n  };\n\n\t/**\n\t * filters out sensitive information from log, using key names\n\t * @param {String} s\n\t * @returns {*}\n   */\n  static logFilter=function(s){\n    var\n      censorNote  ='FILTERED',\n      censoredKeys=[\n        'pass',\n        'password',\n        'userPass',\n        'userPassword',\n        'token'\n      ]\n    ;\n\n    for(var i=0,l=censoredKeys.length; i<l; i++){\n      s=(s+'').replace(\n        new RegExp('\"'+censoredKeys[i]+'\"\\s*:\\s*\"([^\"]+)\"',\"ig\"),\n        '\"'+censoredKeys[i]+'\":\"'+censorNote+'\"'\n      );\n    }\n\n    return s;\n  };\n\n  static log=function(msg='\\n',style='ne',silent=false){\n\n    //todo: transfer settings to log for a) defining a log file, b) setting logging on/off\n    //todo: clearLog method\n    //if(!settings.log)return; //\n\n    var apx=false;\n\n    //set console style style\n    if(msg instanceof Error){\n      style='er';\n      apx  ='\\n'+msg.stack;\n    }\n\n    //set log format\n    if(typeof msg==='object'){\n      msg=JSON.stringify(msg,null,'\\t');\n      if(apx){\n        msg+=apx;\n      }\n    }\n\n    msg=Utl.logFilter(msg);\n\n    var d=new Date();\n\n    fs.appendFile(\n      path.resolve(os.tmpdir()+'/esfmod.log'),\n      d.toUTCString()+'\\t'+msg+'\\n',\n      function(err){\n        if(err) throw err;\n      }\n    );\n\n    if(!silent){\n      console.log(Utl.styles[style]('\\nesfmod.log: '+msg));\n    }\n\n  };\n\n  static rejectingError(\n    num = 0,\n    msg = false,\n    err = false,\n    rej = false,\n    thr = false\n  ){\n\n    if(msg){\n      msg=': '+msg+'\\n';\n    }else{\n      msg='\\n';\n    }\n\n    let sfx='';\n    if(err){\n      sfx=JSON.stringify(err,null,'\\t')+'\\n'+JSON.stringify(err.stack,null,'\\t');\n    }\n\n    msg='Error '+__filename+' #'+num+' '+msg+': '+sfx;\n\n    Utl.log(msg,'er');\n\n    err=new Error(msg);\n\n    if(rej){\n      rej(err);\n    }\n\n    if(thr){\n      throw err;\n    }\n\n    return err;\n\n  }\n\n  static capitalize(s){\n    s=s.toLowerCase();\n    let a=s.split(/[^a-zA-Z0-9]+/g);\n    a=a.map((v)=>{\n      let aa=v.split('');\n      aa[0]=aa[0].toUpperCase();\n      return aa.join('');\n    });\n    s=a.join('');\n    return s;\n  }\n\n}\n"],"sourceRoot":"/source/"}