{"version":3,"sources":["index.es7.js"],"names":[],"mappings":"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","file":"index.es7.js","sourcesContent":["/**\n * Created by Denis Bondarenko <bond.den@gmail.com> on 25.05.2015.\n */\n\n'use strict';\nvar\n\tclc =require('cli-color'),\n\tfs  =require('fs'),\n\tpath=require('path'),\n\tos  =require('os')\n;\n\nexport class Utl {\n\n\tstatic styles={\n\t\t'ne': clc.white,\n\t\t'er': clc.red,\n\t\t'ok': clc.green,\n\t\t'em': clc.yellow,\n\t\t'erb':clc.redBright,\n\t\t'sh': clc.whiteBright,\n\n\t\t'b':  clc.blue,\n\t\t'bb': clc.blueBright,\n\t\t'y':  clc.yellow,\n\t\t'yb': clc.yellowBright,\n\t\t'g':  clc.green,\n\t\t'gb': clc.greenBright,\n\t\t'c':  clc.cyan,\n\t\t'cb': clc.cyanBright,\n\t\t'm':  clc.magenta,\n\t\t'mb': clc.magentaBright,\n\t\t'r':  clc.red,\n\t\t'rb': clc.redBright,\n\t\t'w':  clc.white,\n\t\t'wb': clc.whiteBright\n\t};\n\n\t/**\n\t * FFS = for file system\n\t * @return string: current Date-Time formatted like 0000-00-00_00-00-00\n\t */\n\tstatic getCurrentDateFmtFFS=function(){\n\t\t//add zero\n\t\tfunction aZ(v){\n\t\t\treturn (v<10)?`0${v}`:v;\n\t\t}\n\n\t\tlet d=new Date();\n\t\treturn d.getFullYear()+'-'+aZ(d.getMonth()+1)+'-'+aZ(d.getDate())+'_'+aZ(d.getHours())+'-'+aZ(d.getMinutes())+'-'+aZ(d.getSeconds());\n\t};\n\n\tstatic stripSlash=function(pathName){\n\t\treturn pathName.replace(/\\/+$/,'');\n\t};\n\n\tstatic absolutizePath=function(p,rel=''){\n\t\tif(!path.isAbsolute(p)){\n\t\t\tp=path.resolve(__dirname+rel+p).replace(/\\\\/ig,'/');\n\t\t}\n\t\treturn p;\n\t};\n\n\tstatic logFilter=function(s){\n\t\tvar\n\t\t\tcensorNote  ='FILTERED',\n\t\t\tcensoredKeys=[\n\t\t\t\t'pass',\n\t\t\t\t'password',\n\t\t\t\t'userPass',\n\t\t\t\t'userPassword',\n\t\t\t\t'token'\n\t\t\t]\n\t\t;\n\n\t\tfor(var i=0,l=censoredKeys.length; i<l; i++){\n\t\t\ts=(s+'').replace(\n\t\t\t\tnew RegExp('\"'+censoredKeys[i]+'\"\\s*:\\s*\"([^\"]+)\"',\"ig\"),\n\t\t\t\t'\"'+censoredKeys[i]+'\":\"'+censorNote+'\"'\n\t\t\t);\n\t\t}\n\n\t\treturn s;\n\t};\n\n\tstatic log=function(msg='\\n',style='ne',silent=false){\n\n\t\t//todo: transfer settings to log for a) defining a log file, b) setting logging on/off\n\t\t//if(!settings.log)return; //\n\n\t\tvar apx=false;\n\n\t\t//set console style style\n\t\tif(msg instanceof Error){\n\t\t\tstyle='er';\n\t\t\tapx  ='\\n'+msg.stack;\n\t\t}\n\n\t\t//set log format\n\t\tif(typeof msg==='object'){\n\t\t\tmsg=JSON.stringify(msg,null,'\\t');\n\t\t\tif(apx){\n\t\t\t\tmsg+=apx;\n\t\t\t}\n\t\t}\n\n\t\tmsg=Utl.logFilter(msg);\n\n\t\tvar d=new Date();\n\n\t\tfs.appendFile(\n\t\t\tpath.resolve(os.tmpdir()+'/esfmod.log'),\n\t\t\td.toUTCString()+'\\t'+msg+'\\n',\n\t\t\tfunction(err){\n\t\t\t\tif(err) throw err;\n\t\t\t}\n\t\t);\n\n\t\tif(!silent){\n\t\t\tconsole.log(Utl.styles[style]('\\nesfmod.log: '+msg));\n\t\t}\n\n\t};\n\n\tstatic rejectingError(\n\t\tnum = 0,\n    msg = false,\n    err = false,\n    rej = false,\n    thr = false\n\t){\n\n\t\tif(msg){\n\t\t\tmsg=': '+msg+'\\n';\n\t\t}else{\n\t\t\tmsg='\\n';\n\t\t}\n\n\t\tlet sfx='';\n\t\tif(err){\n\t\t\tsfx=JSON.stringify(err,null,'\\t')+'\\n'+JSON.stringify(err.stack,null,'\\t');\n\t\t}\n\n\t\tmsg='Error '+__filename+' #'+num+' '+msg+': '+sfx;\n\n\t\tUtl.log(msg,'er');\n\n\t\terr=new Error(msg);\n\n\t\tif(rej){\n\t\t\trej(err);\n\t\t}\n\n\t\tif(thr){\n\t\t\tthrow err;\n\t\t}\n\n\t\treturn err;\n\n\t}\n\n\tstatic capitalize(s){\n\t\ts=s.toLowerCase();\n\t\tlet a=s.split(/[^a-zA-Z0-9]+/g);\n\t\ta=a.map((v)=>{\n\t\t\tlet aa=v.split('');\n\t\t\taa[0]=aa[0].toUpperCase();\n\t\t\treturn aa.join('');\n\t\t});\n\t\ts=a.join('');\n\t\treturn s;\n\t}\n\n}\n"],"sourceRoot":"/source/"}