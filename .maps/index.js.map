{"version":3,"sources":["index.es7.js"],"names":[],"mappings":"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","file":"index.es7.js","sourcesContent":["/**\n * Created by Denis Bondarenko <bond.den@gmail.com> on 25.05.2015.\n */\n\n'use strict';\nvar\n  clc =require('cli-color'),\n  fs  =require('fs'),\n  path=require('path'),\n  os  =require('os')\n;\n\nexport class Utl {\n\n  static styles={\n    'ne': clc.white,\n    'er': clc.red,\n    'ok': clc.green,\n    'em': clc.yellow,\n    'erb':clc.redBright,\n    'sh': clc.whiteBright,\n\n    'b':  clc.blue,\n    'bb': clc.blueBright,\n    'y':  clc.yellow,\n    'yb': clc.yellowBright,\n    'g':  clc.green,\n    'gb': clc.greenBright,\n    'c':  clc.cyan,\n    'cb': clc.cyanBright,\n    'm':  clc.magenta,\n    'mb': clc.magentaBright,\n    'r':  clc.red,\n    'rb': clc.redBright,\n    'w':  clc.white,\n    'wb': clc.whiteBright\n  };\n\n  /**\n   * FFS = for file system\n   * @return string: current Date-Time formatted like 0000-00-00_00-00-00\n   */\n  static getCurrentDateFmtFFS=function(){\n    //add zero\n    function aZ(v){\n      return (v<10)?`0${v}`:v;\n    }\n\n    let d=new Date();\n    return d.getFullYear()+'-'+aZ(d.getMonth()+1)+'-'+aZ(d.getDate())+'_'+aZ(d.getHours())+'-'+aZ(d.getMinutes())+'-'+aZ(d.getSeconds());\n  };\n\n  static stripSlash=function(pathName){\n    return pathName.replace(/\\/+$/,'');\n  };\n\n  static absolutizePath=function(p,rel=''){\n    if(!path.isAbsolute(p)){\n      p=path.resolve(__dirname+rel+p).replace(/\\\\/ig,'/');\n    }\n    return p;\n  };\n\n  static logFilter=function(s){\n    var\n      censorNote  ='FILTERED',\n      censoredKeys=[\n        'pass',\n        'password',\n        'userPass',\n        'userPassword',\n        'token'\n      ]\n    ;\n\n    for(var i=0,l=censoredKeys.length; i<l; i++){\n      s=(s+'').replace(\n        new RegExp('\"'+censoredKeys[i]+'\"\\s*:\\s*\"([^\"]+)\"',\"ig\"),\n        '\"'+censoredKeys[i]+'\":\"'+censorNote+'\"'\n      );\n    }\n\n    return s;\n  };\n\n  static log=function(msg='\\n',style='ne',silent=false){\n\n    //todo: transfer settings to log for a) defining a log file, b) setting logging on/off\n    //todo: clearLog method\n    //if(!settings.log)return; //\n\n    var apx=false;\n\n    //set console style style\n    if(msg instanceof Error){\n      style='er';\n      apx  ='\\n'+msg.stack;\n    }\n\n    //set log format\n    if(typeof msg==='object'){\n      msg=JSON.stringify(msg,null,'\\t');\n      if(apx){\n        msg+=apx;\n      }\n    }\n\n    msg=Utl.logFilter(msg);\n\n    var d=new Date();\n\n    fs.appendFile(\n      path.resolve(os.tmpdir()+'/esfmod.log'),\n      d.toUTCString()+'\\t'+msg+'\\n',\n      function(err){\n        if(err) throw err;\n      }\n    );\n\n    if(!silent){\n      console.log(Utl.styles[style]('\\nesfmod.log: '+msg));\n    }\n\n  };\n\n  static rejectingError(\n    num = 0,\n    msg = false,\n    err = false,\n    rej = false,\n    thr = false\n  ){\n\n    if(msg){\n      msg=': '+msg+'\\n';\n    }else{\n      msg='\\n';\n    }\n\n    let sfx='';\n    if(err){\n      sfx=JSON.stringify(err,null,'\\t')+'\\n'+JSON.stringify(err.stack,null,'\\t');\n    }\n\n    msg='Error '+__filename+' #'+num+' '+msg+': '+sfx;\n\n    Utl.log(msg,'er');\n\n    err=new Error(msg);\n\n    if(rej){\n      rej(err);\n    }\n\n    if(thr){\n      throw err;\n    }\n\n    return err;\n\n  }\n\n  static capitalize(s){\n    s=s.toLowerCase();\n    let a=s.split(/[^a-zA-Z0-9]+/g);\n    a=a.map((v)=>{\n      let aa=v.split('');\n      aa[0]=aa[0].toUpperCase();\n      return aa.join('');\n    });\n    s=a.join('');\n    return s;\n  }\n\n}\n"],"sourceRoot":"/source/"}